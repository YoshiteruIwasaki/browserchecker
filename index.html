<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>静的サイトにお問い合わせフォームを:kakubetsu</title>
  <link href="./favicon.ico?1512702336" type="image/x-icon" rel="icon" />
  <link href="./favicon.ico?1512702336" type="image/x-icon" rel="shortcut icon" />
  <meta name="description" content="kakubetsuは数行のコードで簡単にあなたのサイトにお問い合わせフォームを埋め込めます。" />
  <meta property="og:title" content="kakubetsu" />
  <meta property="og:description" content="kakubetsuは数行のコードで簡単にあなたのサイトにお問い合わせフォームを埋め込めます。" />
  <meta property="og:image" content="http://link.to/image" />
  <meta property="og:uri" content="https://kakubetsu.jp" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="ja_JP" />
  <meta property="twitter:description" content="kakubetsuは数行のコードで簡単にあなたのサイトにお問い合わせフォームを埋め込めます。" />
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://kakubetsu.jp" />
  <meta property="twitter:title" content="kakubetsu" />
  <meta property="twitter:image" content="http://link.to/image" />
  <meta property="twitter:site" content="@kakubetsu" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/roundedmplus1c.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous" />
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.4/css/mdb.min.css" />
  <!-- Template styles -->
  <link rel="stylesheet" href="./css/style.css?1516103308" />
  <link rel="stylesheet" href="./outdatedbrowser/outdatedbrowser.min.css">
</head>

<body>

  <!--Navbar-->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top scrolling-navbar">
    <div class="container">
      <a class="navbar-brand logo-font" href="#">kakubetsu</a>
    </div>
  </nav>

  <!--/.Navbar-->
  <a name="top"></a>

  <!--Mask-->
  <div class="view hm-black-light" style="height: 300px">
    <div class="flex-center">
      <ul class="animated fadeInUp">
        <li>
          <div class="wow animated fadeInUp" style="margin-top: 100px">
            <script async src="widgets.v1.js?windows[]=ie&amp;windows[]=chrome&amp;windows[]=edge&amp;windows[]=firefox&amp;mac[]=safari&amp;mac[]=chrome&amp;mac[]=firefox&amp;ios[]=safari&amp;android[]=chrome" charset="utf-8" id="kikuzu"></script>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <!--/.Mask-->


  <!-- Main container-->
  <main>
    <div class="container">
      <section class="mt-5 wow fadeIn" style="visibility: visible; animation-name: fadeIn;">

        <p class="lead">widgesは最新ブラウザをチェックするためのウィジェットを提供します</p>

        <h2>タグを埋め込む</h2>
        <!--Grid row-->
        <div class="row">

          <!--Grid column-->
          <div class="col-md-4">
            <form id="targetList">
              <!--Table-->
              <table class="table">

                <!--Table body-->
                <tbody>
                  <tr>
                    <th scope="row">Windows</th>
                    <td>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="windows" value="ie" id="windowsIE" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="windowsIE">Internet Explorer 11</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="windows" value="edge" id="windowsEdge" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="windowsEdge">Microsoft Edge 最新版</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="windows" value="chrome" id="windowsChrome" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="windowsChrome">Google Chrome 最新版</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="windows" value="firefox" id="windowsFirefox" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="windowsFirefox">Mozilla Firefox 最新版</label>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th scope="row">Mac OS X</th>
                    <td>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="mac" value="safari" id="macSafari" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="macSafari">Safari 最新版</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="mac" value="chrome" id="macChrome" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="macChrome">Google Chrome 最新版</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="mac" value="firefox" id="macFirefox" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="macFirefox">Mozilla Firefox 最新版</label>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th scope="row">iOS</th>
                    <td>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="ios" value="safari" id="iOSSafari" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="iOSSafari">Safari 最新版</label>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <th scope="row">Android</th>
                    <td>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="android" value="chrome" id="androidChrome" checked="checked" onclick="makeScript()">
                        <label class="form-check-label" for="androidChrome">Google Chrome 最新版</label>
                      </div>
                    </td>
                  </tr>
                </tbody>
                <!--Table body-->

              </table>
              <!--Table-->
            </form>
          </div>

          <div class="col-md-8">
            <!-- Auto-resizing textarea -->
            <div class="md-form">
              <textarea id="myScriptTag" class="md-textarea md-textarea-auto form-control" rows="6"></textarea>
              <label for="myScriptTag">貼付け用タグ</label>
            </div>
            <button type="button" class="btn btn-outline-primary waves-effect" onclick="textcopy()">クリップボードにコピー</button>
          </div>
        </div>
        <h2 class="mt-4 mb-4">widgetsが提供する各ブラウザの最新バージョン</h2>
        <!--Grid row-->
        <div class="row" id="latest">
        </div>
        <h5>
          Wikipediaで最新情報を取得
        </h5>
        <div class="list-group mb-4">
          <a href="https://ja.wikipedia.org/wiki/Google_Chrome" class="list-group-item waves-light">Google Chrome</a>
          <a href="https://ja.wikipedia.org/wiki/Mozilla_Firefox" class="list-group-item waves-effect">Mozilla Firefox</a>
          <a href="https://ja.wikipedia.org/wiki/Microsoft_Edge" class="list-group-item waves-effect">Microsoft Edge</a>
          <a href="https://ja.wikipedia.org/wiki/Safari" class="list-group-item waves-effect">Safari</a>
          <a href="https://ja.wikipedia.org/wiki/Internet_Explorer_11" class="list-group-item waves-effect">Internet Explorer 11</a>
        </div>

      </section>

    </div>
  </main>


  <!--/ Main container-->

  <!--Footer-->
  <!--Footer-->
  <footer class="page-footer center-on-small-only mt-0">

    <!--Copyright-->
    <div class="footer-copyright">
      <div class="container-fluid">
        &copy; 2018
        <span style=" text-transform: uppercase;">kakubetsu</span> All Rights Reserved.
      </div>
    </div>
    <!--/.Copyright-->

  </footer>
  <!--/.Footer-->
  <!--/.Footer-->
  <a href="https://github.com/YoshiteruIwasaki/browserchecker/"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:200" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

  <!-- SCRIPTS -->

  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.4/js/mdb.min.js"></script>
  <!-- Animations init-->
  <script>
    new WOW().init();

    makeScript();

    /**
     * テキストエリアの内容をクリップボードにコピー
     * @return {[type]} [description]
     */
    function textcopy() {
      var myScriptTag = document.getElementById('myScriptTag');
      const range = document.createRange();
      range.selectNode(myScriptTag);
      window.getSelection().addRange(range);
      document.execCommand('copy');
    }

    /**
     * 貼り付け用のタグ生成
     * @return {[type]} [description]
     */
    function makeScript() {
      var host = location.hostname;
      var protocol = location.protocol;
      //var strPrefix = "&lt;script async src=&quot;widgets.js?";
      var strPrefix = "<script async src='" + protocol + "//" + host + "/widgets.v1.js?";
      //var strSuffix = "&quot; charset=&quot;utf-8&quot; id=&quot;kikuzu&quot;&gt;&lt;/script&gt";
      var strSuffix = "' charset='utf-8' id='kikuzu'><\/script>";
      var windows = [];
      var mac = [];
      var ios = [];
      var android = [];
      var str = "";
      var strBrowser = "";
      $('[name="windows"]:checked').map(function() {
        windows.push($(this).val());
      });
      $('[name="mac"]:checked').map(function() {
        mac.push($(this).val());
      });
      $('[name="ios"]:checked').map(function() {
        ios.push($(this).val());
      });
      $('[name="android"]:checked').map(function() {
        android.push($(this).val());
      });
      if (!$.isEmptyObject(windows)) {
        $.each(windows, function(i, val) {
          strBrowser += "windows[]=" + val + "&";
        });
      }
      if (!$.isEmptyObject(mac)) {
        $.each(mac, function(i, val) {
          strBrowser += "mac[]=" + val + "&";
        });
      }
      if (!$.isEmptyObject(ios)) {
        $.each(ios, function(i, val) {
          strBrowser += "ios[]=" + val + "&";
        });
      }
      if (!$.isEmptyObject(android)) {
        $.each(android, function(i, val) {
          strBrowser += "android[]=" + val + "&";
        });
      }
      str = strPrefix + strBrowser.slice(0, -1) + strSuffix;
      $("#myScriptTag").val(str);
    }

    /**
     * 最新ブラウザバージョンJSON取得
     * @param  {[type]} data [description]
     * @return {[type]}      [description]
     */
    $.get("browser.json", function(data) {
      $.each(data, function(k, v) {
        var newMdDiv = document.createElement("div");
        newMdDiv.classList.add('col');
        var newDl = document.createElement("dl");
        //newDl.classList.add('row');
        var newheader = document.createElement("h4");
        newheader.innerHTML = k;
        $.each(v, function(sk, sv) {
          var newDt = document.createElement("dt");
          //newDt.classList.add('col-sm-6');
          var newDd = document.createElement("dd");
          //newDd.classList.add('col-sm-6');
          newDt.innerHTML = sv.full_name;
          newDd.innerHTML = sv.version;
          newDl.append(newDt);
          newDl.append(newDd);
        });
        newMdDiv.append(newheader);
        newMdDiv.append(newDl);
        document.getElementById('latest').append(newMdDiv);
      });
    });
  </script>
</body>

</html>
